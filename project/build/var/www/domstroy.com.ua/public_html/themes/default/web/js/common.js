(function(e){function t(){var e=document.createElement("input"),t="onpaste";return e.setAttribute(t,""),"function"==typeof e[t]?"paste":"input"}var n,a=t()+".mask",r=navigator.userAgent,i=/iphone/i.test(r),o=/android/i.test(r);e.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},dataName:"rawMaskFn",placeholder:"_"},e.fn.extend({caret:function(e,t){var n;if(0!==this.length&&!this.is(":hidden"))return"number"==typeof e?(t="number"==typeof t?t:e,this.each(function(){this.setSelectionRange?this.setSelectionRange(e,t):this.createTextRange&&(n=this.createTextRange(),n.collapse(!0),n.moveEnd("character",t),n.moveStart("character",e),n.select())})):(this[0].setSelectionRange?(e=this[0].selectionStart,t=this[0].selectionEnd):document.selection&&document.selection.createRange&&(n=document.selection.createRange(),e=0-n.duplicate().moveStart("character",-1e5),t=e+n.text.length),{begin:e,end:t})},unmask:function(){return this.trigger("unmask")},mask:function(t,r){var c,l,s,u,f,h;return!t&&this.length>0?(c=e(this[0]),c.data(e.mask.dataName)()):(r=e.extend({placeholder:e.mask.placeholder,completed:null},r),l=e.mask.definitions,s=[],u=h=t.length,f=null,e.each(t.split(""),function(e,t){"?"==t?(h--,u=e):l[t]?(s.push(RegExp(l[t])),null===f&&(f=s.length-1)):s.push(null)}),this.trigger("unmask").each(function(){function c(e){for(;h>++e&&!s[e];);return e}function d(e){for(;--e>=0&&!s[e];);return e}function m(e,t){var n,a;if(!(0>e)){for(n=e,a=c(t);h>n;n++)if(s[n]){if(!(h>a&&s[n].test(R[a])))break;R[n]=R[a],R[a]=r.placeholder,a=c(a)}b(),x.caret(Math.max(f,e))}}function p(e){var t,n,a,i;for(t=e,n=r.placeholder;h>t;t++)if(s[t]){if(a=c(t),i=R[t],R[t]=n,!(h>a&&s[a].test(i)))break;n=i}}function g(e){var t,n,a,r=e.which;8===r||46===r||i&&127===r?(t=x.caret(),n=t.begin,a=t.end,0===a-n&&(n=46!==r?d(n):a=c(n-1),a=46===r?c(a):a),k(n,a),m(n,a-1),e.preventDefault()):27==r&&(x.val(S),x.caret(0,y()),e.preventDefault())}function v(t){var n,a,i,l=t.which,u=x.caret();t.ctrlKey||t.altKey||t.metaKey||32>l||l&&(0!==u.end-u.begin&&(k(u.begin,u.end),m(u.begin,u.end-1)),n=c(u.begin-1),h>n&&(a=String.fromCharCode(l),s[n].test(a)&&(p(n),R[n]=a,b(),i=c(n),o?setTimeout(e.proxy(e.fn.caret,x,i),0):x.caret(i),r.completed&&i>=h&&r.completed.call(x))),t.preventDefault())}function k(e,t){var n;for(n=e;t>n&&h>n;n++)s[n]&&(R[n]=r.placeholder)}function b(){x.val(R.join(""))}function y(e){var t,n,a=x.val(),i=-1;for(t=0,pos=0;h>t;t++)if(s[t]){for(R[t]=r.placeholder;pos++<a.length;)if(n=a.charAt(pos-1),s[t].test(n)){R[t]=n,i=t;break}if(pos>a.length)break}else R[t]===a.charAt(pos)&&t!==u&&(pos++,i=t);return e?b():u>i+1?(x.val(""),k(0,h)):(b(),x.val(x.val().substring(0,i+1))),u?t:f}var x=e(this),R=e.map(t.split(""),function(e){return"?"!=e?l[e]?r.placeholder:e:void 0}),S=x.val();x.data(e.mask.dataName,function(){return e.map(R,function(e,t){return s[t]&&e!=r.placeholder?e:null}).join("")}),x.attr("readonly")||x.one("unmask",function(){x.unbind(".mask").removeData(e.mask.dataName)}).bind("focus.mask",function(){clearTimeout(n);var e;S=x.val(),e=y(),n=setTimeout(function(){b(),e==t.length?x.caret(0,e):x.caret(e)},10)}).bind("blur.mask",function(){y(),x.val()!=S&&x.change()}).bind("keydown.mask",g).bind("keypress.mask",v).bind(a,function(){setTimeout(function(){var e=y(!0);x.caret(e),r.completed&&e==x.val().length&&r.completed.call(x)},0)}),y()}))}})})(jQuery);$(function(){$(".banner-link-trigger").bind('click',function(event){var data={'id':$(this).data('target')};data[yupeTokenName]=yupeToken;$.ajax({url:'/banner/redirected',type:'post',data:data,dataType:'json',success:function(data){}});});$().load(function(){});$('#OrderStatusForm_status').on('change',function(){$(this).closest('form').submit();});$('.breadcrumbs-btn').on('click',function(){window.history.back();});$('.menu-toggle').click(function(){$(this).parents('.nav-menu').find('.nav-main ul').slideToggle(300);});$('.search-toggle').click(function(){$(this).next('.collapse-sm').slideToggle(300);});$("#carousel-coworkers").owlCarousel({items:3,itemsCustom:[[0,1],[768,2],[1200,3],],});$("#navigation-add").owlCarousel({items:1,navigation:true,navigationText:false,autoPlay:true,autoPlayTimeout:7000,itemsCustom:[[0,1],[768,1],],});$(function(){$(".dateTimePeaker").datepicker({dateFormat:"dd-mm-yy",monthNames:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],dayNamesMin:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],firstDay:1,minDate:0});});$("#best-proposal-carousel-all, #best-proposal-carousel-materials, #best-proposal-carousel-service").owlCarousel({items:4,loop:true,itemsCustom:[[0,1],[480,2],[768,3],[992,4],],});$("#carousel-materials, #carousel-materials2, #carousel-materials3").owlCarousel({items:4,loop:true,autoplay:true,autoplayTimeout:1000,autoplayHoverPause:true,itemsCustom:[[0,1],[480,2],[992,3],[1200,4],],});$('.aside-menu>p').on('click',open);$('.checkbox-group > p').on('click',open);$('.materials-text > h4').on('click',open);function open(){var parent=$(this).parent();if(parent.hasClass('open')){parent.find('div').slideUp(300,function(){parent.toggleClass('open');});}else{parent.find('div').slideDown(300,function(){parent.toggleClass('open');});}}$('.vertical-switch').on('click',function(){$(this).addClass('active');$(this).siblings('.horizontal-switch').removeClass('active');$('.materials-box').each(function(){$(this).removeClass('horizontal').addClass('vertical');});console.log('click');});$('.horizontal-switch').on('click',function(){$(this).addClass('active');$(this).siblings('.vertical-switch').removeClass('active');$('.materials-box').each(function(){$(this).removeClass('vertical').addClass('horizontal');});});$('.gallery-item, .advice-gallery-item ').magnificPopup({type:'image',gallery:{enabled:true}});$('#datetimepicker1').datepicker();function autoH(nameClass){h=[];$(nameClass+' .tab-pane').each(function(indx,element){h.push($(element).height());});var maxH=Math.max.apply(null,h);$(nameClass+' .tab-content').css('height',maxH+'px');}autoH('.js-company');autoH('.js-product');$('.footer .button').click(function(e){e.preventDefault();$('.md-modal').addClass('md-show');});$('.md-modal .md-close').click(function(){$(this).parents('.md-modal').removeClass('md-show');});$('.footer .md-modal .button').click(function(){var email=$('.email').val()||'Test';var actionUrl='/';$.ajax({type:'POST',url:actionUrl,data:email,dataType:'json',crossdomain:true,success:function(){$('.footer .md-content').addClass('answer').prepend('<h3>Thank You</h3>').next('div').addClass('hidden');},error:function(){$('.footer .md-content').addClass('answer').prepend('<h3>Thank You</h3>').next('div').addClass('hidden');}})});function answer(data){$('.footer .md-content').addClass('answer').prepend(data).next('div').addClass('hidden');}});$(function(){if(screen.width<768&&$('.materials-box').hasClass('vertical')){$(".materials-box").removeClass('vertical').addClass('horizontal');}$('#reviewStars-input>input').on('change',function(){var el={};el.mark=parseInt($(this).val())+1;el.id=parseInt($(this).parent('#reviewStars-input').data('id'));doRait(el);});});function doRait(el){if(!isNaN(el.id)&&!isNaN(el.mark)){var data={'mark':el.mark,'company_id':el.id};data[yupeTokenName]=yupeToken;$.ajax({url:'/company/reit',type:'post',data:data,dataType:'json',success:function(data){console.log(data);}});}};function readURL(input){if(input.files&&input.files[0]){var reader=new FileReader();reader.onload=function(e){$('.preview-image-wrapper').removeClass('hidden');$('.preview-image').attr('src',e.target.result).show();};reader.readAsDataURL(input.files[0]);}}function readURL2(input){if(input.files&&input.files[0]){var reader=new FileReader();reader.onload=function(e){$('#'+input.id).parents('div.file-upload').find('.preview-image-wrapper').removeClass('hidden');$('#'+input.id).parents('div.file-upload').find('.preview-image').attr('src',e.target.result).show();};reader.readAsDataURL(input.files[0]);}}function readURL3(input){if(input.files&&input.files[0]){var reader=new FileReader();reader.onload=function(e){$('.avatar').find('img').attr('src',e.target.result);};reader.readAsDataURL(input.files[0]);}}(function($){$.fn.serializeObject=function(){var self=this,json={},push_counters={},patterns={"validate":/^[a-zA-Z][a-zA-Z0-9_]*(?:\[(?:\d*|[a-zA-Z0-9_]+)\])*$/,"key":/[a-zA-Z0-9_]+|(?=\[\])/g,"push":/^$/,"fixed":/^\d+$/,"named":/^[a-zA-Z0-9_]+$/};this.build=function(base,key,value){base[key]=value;return base;};this.push_counter=function(key){if(push_counters[key]===undefined){push_counters[key]=0;}return push_counters[key]++;};$.each($(this).serializeArray(),function(){if(!patterns.validate.test(this.name)){return;}var k,keys=this.name.match(patterns.key),merge=this.value,reverse_key=this.name;while((k=keys.pop())!==undefined){reverse_key=reverse_key.replace(new RegExp("\\["+k+"\\]$"),'');if(k.match(patterns.push)){merge=self.build([],self.push_counter(reverse_key),merge);}else if(k.match(patterns.fixed)){merge=self.build([],k,merge);}else if(k.match(patterns.named)){merge=self.build({},k,merge);}}json=$.extend(true,json,merge);});return json;};$(document).ready(function(){if($("[data-touch]").length){$("[data-touch]").TouchSpin({verticalbuttons:true});}var maskEl=$(".js-phone-mask");if(maskEl.length){maskEl.mask("+38(099)999-99-99");}$('body').copyright({extratxt:'Подробнее: %link%',hide:false});});})(jQuery);
$( document ).ready(function() {
  var youtube = /\?v=(\w+)&/;
  $('#Product_video').change(function(){
    $('#Product_video').val($('#Product_video').val().match(youtube)[1]);
  });
});
function OpenMobileMenu(){
  if ($('.nav_mobile').is(":visible")) {
      $('.nav_mobile').css('display', 'none');
  }
  else{
      $('.nav_mobile').css('display', 'block');
  }
}
function OpenPidpunkt1(){
  if ($('.level_1').is(":visible")) {
      $('.level_1').css('display', 'none');
  }
  else{
      $('.level_1').css('display', 'block');
  }
}
function OpenPidpunkt2(e){
  var id = $(e).data('category');
  if ($('.level_2_'+id).is(":visible")) {
      $('.level_2_'+id).css('display', 'none');
  }
  else{
      $('.level_2_'+id).css('display', 'block');
  }
}
function OpenFreeRepublisherModal(){
  if ($('#modal-free-republish').is(":visible")) {
      $('#modal-free-republish').css('display', 'none');
  }
  else{
      $('#modal-free-republish').css('display', 'block');
  }
}